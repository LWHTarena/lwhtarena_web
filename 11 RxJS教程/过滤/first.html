<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>first</title>
</head>
<body>
first
函数签名: first(predicate: function, select: function)
发出第一个值或第一个通过给定表达式的值。

与 first 对应的操作符是 last！
</body>
<script src="https://unpkg.com/rxjs/bundles/rxjs.umd.min.js"></script>
<script type="text/javascript">
    // RxJS v6+
    const { from } = rxjs;
    const { first } = rxjs.operators;

    /**示例 1: 序列中的第一个值**/
    const source = from([1, 2, 3, 4, 5]);
    // 没有参数则发出第一个值
    const example = source.pipe(first());
    // 输出: "First value: 1"
    const subscribe = example.subscribe(val => console.log(`First value: ${val}`));

    /**示例 2: 第一个通过 predicate 函数的值**/
    const source2 = from([1, 2, 3, 4, 5]);
    // 发出通过测试的第一项
    const example2 = source2.pipe(first(num => num === 5));
    // 输出: "First to pass test: 5"
    const subscribe2 = example2.subscribe(val =>
        console.log(`First to pass test: ${val}`)
    );

    /**示例 3: 使用可选的 projection 函数**/
    const source3 = from([1, 2, 3, 4, 5]);
    // 没有值通过的话则发出默认值
    const example3 = source3.pipe(first(val => val > 5, 'Nothing'));
    // 输出: 'Nothing'
    const subscribe3 = example3.subscribe(val => console.log(val));
</script>
</html>
