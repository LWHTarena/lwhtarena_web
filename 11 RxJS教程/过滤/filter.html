<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>filter</title>
</head>
<body>
filter
函数签名: filter(select: Function, thisArg: any): Observable
发出符合给定条件的值。
:bulb: 如果你希望当不满足条件时完成 observable 的话，请查阅 takeWhile！
</body>
<script src="https://unpkg.com/rxjs/bundles/rxjs.umd.min.js"></script>
<script type="text/javascript">
    // RxJS v6+
    const { from,interval } = rxjs;
    const { filter } = rxjs.operators;

    /**示例 1: 过滤出偶数**/
    // 发出 (1,2,3,4,5)
    const source = from([1, 2, 3, 4, 5]);
    // 过滤掉奇数
    const example = source.pipe(filter(num => num % 2 === 0));
    // 输出: "Even number: 2", "Even number: 4"
    const subscribe = example.subscribe(val => console.log(`Even number: ${val}`));

    /**示例 2: 基于属性过滤对象**/
    // 发出 ({name: 'Joe', age: 31}, {name: 'Bob', age:25})
    const source2 = from([{ name: 'Joe', age: 31 }, { name: 'Bob', age: 25 }]);
    // 过滤掉年龄小于30岁的人
    const example2 = source2.pipe(filter(person => person.age >= 30));
    // 输出: "Over 30: Joe"
    const subscribe2 = example2.subscribe(val => console.log(`Over 30: ${val.name}`));

    /**示例 3: 过滤出大于给定值的数字**/
        // 每1秒发出值
    const source3 = interval(1000);
    // 过滤掉所有值知道 interval 发出的值大于5
    const example3 = source3.pipe(filter(num => num > 5));
    /*
      "Number greater than 5: 6"
      "Number greater than 5: 7"
      "Number greater than 5: 8"
      "Number greater than 5: 9"
    */
    const subscribe3 = example3.subscribe(val =>
        console.log(`Number greater than 5: ${val}`)
    );
</script>
</html>
